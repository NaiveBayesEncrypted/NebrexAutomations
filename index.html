<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Automation for Calgary Contractors | Nebrex Automations</title>
  <meta name="description" content="Nebrex Automations helps Calgary contractors automate lead response, booking, and follow-up to reduce bottlenecks and grow jobs.">

  <!-- Canonical URL (FIX #6: added canonical) -->
  <link rel="canonical" href="https://nebrex.ca">

  <!-- Open Graph / Social (FIX #3: corrected og:url, FIX #5: added og:image) -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="AI Automation for Calgary Contractors | Nebrex Automations">
  <meta property="og:description" content="Nebrex Automations helps Calgary contractors automate lead response, booking, and follow-up to reduce bottlenecks and grow jobs.">
  <meta property="og:url" content="https://nebrex.ca">
  <meta property="og:image" content="https://nebrex.ca/og-image.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://nebrex.ca/og-image.png">

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="favicon.svg">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Michroma&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">

  <!-- FIX #7: Structured Data (Schema.org JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "LocalBusiness",
        "name": "Nebrex Automations",
        "description": "AI automation for Calgary contractor and home service operations.",
        "url": "https://nebrex.ca",
        "telephone": "+1-825-733-9236",
        "email": "contact@nebrex.ca",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Calgary",
          "addressRegion": "AB",
          "addressCountry": "CA"
        },
        "areaServed": {
          "@type": "City",
          "name": "Calgary"
        },
        "priceRange": "$300 - $2,500+",
        "serviceType": [
          "Speed-to-Lead Automation",
          "Missed Call Text-Back",
          "Review and Reputation Engine",
          "Quote Follow-Up Automator",
          "AI Booking and Scheduling",
          "AI Voice Receptionist",
          "AI Search Optimization (AEO)",
          "AI Video Follow-Ups",
          "AI Job Costing and Estimating Assistant",
          "Competitor Intelligence Dashboard",
          "AI Employee Training and Onboarding",
          "Multilingual AI Agents",
          "AI-Powered Google Ads and LSA Management",
          "Automated Referral System",
          "Client Retention and Win-Back Campaigns",
          "Emergency Dispatch AI Routing",
          "AI Content Creation and Social Media Management",
          "AI Customer Feedback Analysis"
        ]
      },
      {
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "How quickly do Nebrex systems respond to leads?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Most speed-to-lead workflows are configured to respond in under 60 seconds across web forms, missed calls, and social messages."
            }
          },
          {
            "@type": "Question",
            "name": "What businesses are the best fit?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Nebrex focuses on Calgary contractors and home service operations including plumbing, HVAC, electrical, roofing, landscaping, and renovation companies."
            }
          },
          {
            "@type": "Question",
            "name": "What is the Nebrex guarantee?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "If we do not improve qualified leads or booked appointments in 90 days, we keep working at no charge until agreed targets are met."
            }
          }
        ]
      }
    ]
  }
  </script>
</head>
<body>
  <div class="ambient-lines" aria-hidden="true"></div>
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <header>
    <div class="wrap">
      <nav role="navigation" aria-label="Main navigation">
        <!-- FIX #8: Logo is now an <a> link instead of a <div> -->
        <a href="#top" class="logo" aria-label="Nebrex Automations - back to top">
          <span class="logo-mark" aria-hidden="true"><span class="mark-n">N</span><span class="mark-x">X</span></span>
          <span class="logo-text">
            <span class="logo-word">NEBRE<span class="logo-x">X</span></span>
            <span class="logo-sub">AUTOMATIONS</span>
          </span>
        </a>

        <button class="mobile-menu-btn" type="button" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="nav-links">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>

        <div class="nav-links" id="nav-links">
          <a href="#services">Services</a>
          <a href="#packages">Pricing</a>
          <a href="#process">How It Works</a>
          <a href="#contact">Contact</a>
        </div>
        <a href="#contact" class="btn btn-primary nav-cta">Book Demo</a>
      </nav>
    </div>
  </header>

  <main class="wrap" id="main-content">
    <section class="hero" id="top">
      <div>
        <div class="eyebrow">Nebrex Automations</div>
        <h1>AI Automation for Calgary Contractors</h1>
        <p>Nebrex Automations helps Calgary contractors automate lead response, booking, and follow-up to reduce bottlenecks and grow jobs.</p>
        <div class="cta-row">
          <a class="btn btn-primary" href="tel:+18257339236" aria-label="Call or text (825) 733-9236 to book a demo">Call/Text to Book Demo</a>
          <a class="btn btn-outline" href="mailto:contact@nebrex.ca?subject=Nebrex%20Automations%20Demo%20Request">Email to Request Demo</a>
        </div>
      </div>
      <div class="hero-card">
        <h3>What you get in 30 days</h3>
        <ul class="hero-list">
          <li>Speed-to-lead automation and missed-call recovery</li>
          <li>AI booking, quote follow-up, and review flows</li>
          <li>CRM sync with clear monthly KPI reporting</li>
          <li>Local Calgary optimization for better lead quality</li>
        </ul>
        <div class="signal">
          <div><span>$300-$1,100</span>Monthly plans</div>
          <div><span>$2,500+</span>Enterprise custom</div>
          <div><span>90-day</span>Results guarantee</div>
        </div>
      </div>
    </section>

    <section id="offer">
      <div class="section-title">The Offer</div>
      <!-- FIX #4: section headings are now <h2> for proper heading hierarchy -->
      <h2>An operations partner contractors can trust</h2>
      <p class="section-sub">Nebrex builds practical AI systems that remove repetitive admin, speed up response times, and help your team book more jobs consistently.</p>

      <div class="grid-3">
        <div class="card">
          <h4>Faster response</h4>
          <p>Respond to new leads and missed calls in under 60 seconds, day or night.</p>
        </div>
        <div class="card">
          <h4>Fewer bottlenecks</h4>
          <p>Automate repetitive communication, follow-ups, and scheduling so your team can focus on delivery.</p>
        </div>
        <div class="card">
          <h4>Predictable growth</h4>
          <p>Keep pipelines moving with automated lead qualification, booking, and reputation workflows.</p>
        </div>
      </div>

      <div class="offer">
        <div class="offer-grid">
          <div>
            <h3>What we deliver</h3>
            <p class="section-sub">Built for Calgary trades and home services with clear implementation and practical outcomes.</p>
            <ul>
              <li>Speed-to-lead, booking, and follow-up workflows</li>
              <li>Missed-call recovery and reputation automation</li>
              <li>AEO-ready local content structure and schema</li>
              <li>Reporting focused on qualified leads and bookings</li>
            </ul>
          </div>
          <div>
            <h3>Best fit</h3>
            <ul>
              <li>Plumbing, HVAC, electrical, roofing, landscaping</li>
              <li>Contractors losing leads to slow response times</li>
              <li>Teams stuck with manual follow-up and scheduling</li>
              <li>Businesses that want growth without extra admin headcount</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <section id="platforms">
      <div class="section-title">Why Not Platforms</div>
      <h2>Tools give dashboards. Contractors need outcomes.</h2>
      <p class="section-sub">Nebrex configures and runs workflows end-to-end so your team is not buried in manual setup and maintenance.</p>

      <div class="grid-3">
        <div class="card">
          <h4>Typical setup</h4>
          <p>Disconnected tools, delayed follow-ups, and missed opportunities from manual workflows.</p>
        </div>
        <div class="card">
          <h4>Nebrex Automations</h4>
          <p>We scope, build, test, and launch systems with your process and service mix in mind.</p>
        </div>
        <div class="card">
          <h4>Result</h4>
          <p>Faster response, higher booking rates, and fewer operational bottlenecks for your team.</p>
        </div>
      </div>
    </section>

    <section id="offer-stack">
      <div class="section-title">Offer Stack</div>
      <h2>Start lean, prove value, then scale</h2>
      <p class="section-sub">Start with an operations audit, validate improvements quickly, then scale into a full system once KPIs are clear.</p>

      <div class="grid-3">
        <div class="card">
          <h4>Operations Audit</h4>
          <p>10-minute leak report on missed calls, slow response windows, quote follow-up gaps, and booking friction.</p>
          <div class="card-cta">
            <a class="btn btn-outline" href="mailto:contact@nebrex.ca?subject=AI%20Lead%20Audit%20Request">Request Audit</a>
          </div>
        </div>
        <div class="card">
          <h4>30-Day Pilot Build</h4>
          <p>Core workflow launch (lead response + booking + follow-up) to validate lead and booking improvement.</p>
          <div class="card-cta">
            <a class="btn btn-outline" href="mailto:contact@nebrex.ca?subject=30-Day%20Pilot%20Request">Request Pilot</a>
          </div>
        </div>
        <div class="card">
          <h4>Full System Rollout</h4>
          <p>End-to-end operational automation with reporting, optimization, and support for sustained growth.</p>
          <div class="card-cta">
            <a class="btn btn-outline" href="mailto:contact@nebrex.ca?subject=Full%20Delivery%20Request">Talk Delivery</a>
          </div>
        </div>
      </div>
    </section>

    <section id="services">
      <div class="section-title">Service Menu</div>
      <h2>Core services for contractor operations</h2>
      <p class="section-sub">These six core systems remove immediate revenue leaks and improve response speed, booking consistency, and customer experience.</p>

      <div class="grid-3">
        <div class="card">
          <h4>Speed-to-Lead Automation</h4>
          <p>Instant responses to new leads from web, social, and form submissions.</p>
        </div>
        <div class="card">
          <h4>Missed Call Text-Back</h4>
          <p>Recover unanswered calls with immediate SMS response and booking prompts.</p>
        </div>
        <div class="card">
          <h4>Review and Reputation Engine</h4>
          <p>Automate review requests and protect local reputation across key platforms.</p>
        </div>
        <div class="card">
          <h4>Quote Follow-Up Automator</h4>
          <p>Consistent, multi-touch follow-up for sent quotes to increase close rate.</p>
        </div>
        <div class="card">
          <h4>AI Booking and Scheduling</h4>
          <p>Automated booking, reminders, and no-show reduction tied to your calendar.</p>
        </div>
        <div class="card">
          <h4>AI Voice Receptionist</h4>
          <p>24/7 AI phone coverage for intake, qualification, and scheduling support.</p>
        </div>
        <div class="card">
          <h4>AI Search Optimization (AEO)</h4>
          <p>Improve visibility in AI search answers, overviews, and assistant citations.</p>
        </div>
        <div class="card">
          <h4>AI Video Follow-Ups</h4>
          <p>Personalized video follow-ups to increase quote engagement and response.</p>
        </div>
        <div class="card">
          <h4>AI Job Costing Assistant</h4>
          <p>Smarter estimating support to improve pricing accuracy and profitability.</p>
        </div>
      </div>
    </section>

    <section id="addons">
      <div class="section-title">Advanced Services</div>
      <h2>Selected advanced capabilities</h2>
      <p class="section-sub">Beyond the core stack, these services expand growth, retention, and operational efficiency.</p>

      <div class="grid-3">
        <div class="card">
          <h4>Competitor Intelligence Dashboard</h4>
          <p>Track local competitors, offers, and review movement for better decisions.</p>
        </div>
        <div class="card">
          <h4>AI Employee Training and Onboarding</h4>
          <p>Faster onboarding and consistent training for growing teams.</p>
        </div>
        <div class="card">
          <h4>Multilingual AI Agents</h4>
          <p>Support customers in English, French, and Punjabi with language-aware automation.</p>
        </div>
      </div>
    </section>

    <section id="packages">
      <div class="section-title">Packages</div>
      <h2>Clear pricing tiers built for growth</h2>
      <p class="section-sub">Start at the right level now and scale into full automation as lead volume grows.</p>

      <div class="packages">
        <div class="card">
          <span class="badge">Starter</span>
          <h4>Starter Automation</h4>
          <div class="price">$300/mo</div>
          <p>Fast launch for core response automation</p>
          <ul class="hero-list package-list">
            <li>Speed-to-Lead Automation</li>
            <li>Missed Call Text-Back</li>
            <li>Basic booking prompts</li>
          </ul>
        </div>
        <div class="card card-featured">
          <span class="badge badge-accent">Most Popular</span>
          <h4>Growth Engine</h4>
          <div class="price">$700/mo</div>
          <p>Full lead conversion stack for active teams</p>
          <ul class="hero-list package-list">
            <li>Starter plus quote follow-up</li>
            <li>Appointment booking automation</li>
            <li>Review and reputation engine</li>
          </ul>
        </div>
        <div class="card">
          <span class="badge">Full Suite</span>
          <h4>Full Suite Automation</h4>
          <div class="price">$1,100/mo</div>
          <p>End-to-end operations support and AEO readiness</p>
          <ul class="hero-list package-list">
            <li>Growth plus AI voice receptionist</li>
            <li>AI Job Costing Assistant</li>
            <li>Competitive and KPI dashboards</li>
          </ul>
        </div>
        <div class="card">
          <span class="badge">Enterprise</span>
          <h4>Custom Solutions</h4>
          <div class="price">$2,500+/mo</div>
          <p>Bespoke automation, integrations, and dedicated support</p>
          <ul class="hero-list package-list">
            <li>Custom AI systems and integrations</li>
            <li>Advanced dispatch and team training</li>
            <li>Multi-location optimization</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="process">
      <div class="section-title">Process</div>
      <h2>A clear rollout from audit to optimization</h2>
      <p class="section-sub">Implementation stays practical and focused on lead response, booking rate, and operational speed.</p>

      <!-- FIX #13: Steps use proper markup instead of <br> -->
      <div class="steps">
        <div class="step">
          <span class="step-number">01</span>
          <span class="step-text">We audit lead flow and operational bottlenecks</span>
        </div>
        <div class="step">
          <span class="step-number">02</span>
          <span class="step-text">We align service scope and success metrics</span>
        </div>
        <div class="step">
          <span class="step-number">03</span>
          <span class="step-text">We build, test, and launch core workflows</span>
        </div>
        <div class="step">
          <span class="step-number">04</span>
          <span class="step-text">We monitor, optimize, and scale monthly</span>
        </div>
      </div>
    </section>

    <section id="proof">
      <div class="section-title">Proof</div>
      <h2>Real outcomes your clients care about</h2>
      <p class="section-sub">Outcomes are measured by lead speed, booked jobs, and reduced operational friction.</p>

      <div class="proof">
        <div class="proof-box">
          <div class="proof-stat">23</div>
          <div class="proof-label">Missed calls recovered in week 1</div>
          <!-- FIX #1: Fixed encoding (em-dash) -->
          <h4>Plumbing Team - Calgary, AB</h4>
          <p>Automated lead response captured after-hours inquiries that were previously missed. Generated <strong>$6,400 in additional booked work</strong> in the first month.</p>
        </div>
        <div class="proof-box">
          <div class="proof-stat">18%</div>
          <div class="proof-label">Increase in booked jobs</div>
          <h4>Roofing Contractor - Calgary, AB</h4>
          <p>Missed-call text-back recovered leads likely headed to competitors. Added <strong>5 extra booked jobs per month</strong> at an average $3,200 ticket.</p>
        </div>
      </div>

      <!-- FIX #9: Testimonials use <blockquote> and <cite> -->
      <div class="testimonial-bar">
        <div class="testimonial">
          <blockquote>
            <p>"Lead response is finally consistent, and our office is no longer buried in callbacks. Booking flow feels controlled now."</p>
            <footer><cite>- Operations manager, Calgary HVAC company</cite></footer>
          </blockquote>
        </div>
        <div class="testimonial">
          <blockquote>
            <p>"The missed-call automation alone changed our close rate. We are converting calls we used to lose every week."</p>
            <footer><cite>- Owner, Calgary electrical contractor</cite></footer>
          </blockquote>
        </div>
      </div>

      <!-- FIX #10: FAQ uses <details>/<summary> for native expand/collapse -->
      <div class="faq">
        <details open>
          <summary>How quickly do leads get a response?</summary>
          <p>Most systems respond in under 60 seconds once workflows are configured.</p>
        </details>
        <details>
          <summary>Which contractors are the best fit?</summary>
          <p>Plumbing, HVAC, electrical, roofing, landscaping, and renovation teams are strong fits.</p>
        </details>
        <details>
          <summary>What guarantee do you offer?</summary>
          <p>If we do not improve qualified leads or booked appointments in 90 days, we keep working at no charge until targets are met.</p>
        </details>
      </div>
    </section>

    <section id="calculator">
      <div class="section-title">ROI Calculator</div>
      <h2>Estimate monthly impact instantly</h2>
      <p class="section-sub">Use your plan investment, average job value, and recovered bookings to estimate expected monthly net gain.</p>

      <div class="calculator-card">
        <div class="calculator-inputs">
          <div class="calc-input-group">
              <label for="numClients">Recovered booked jobs per month</label>
              <input type="range" id="numClients" min="1" max="30" value="5">
              <div class="calc-value" id="numClientsValue">5 jobs</div>
            </div>
            <div class="calc-input-group">
              <label for="packageTier">Monthly plan investment</label>
              <select id="packageTier">
                <option value="300">Starter ($300/mo)</option>
                <option value="700" selected>Growth ($700/mo)</option>
                <option value="1100">Full Suite ($1,100/mo)</option>
                <option value="2500">Enterprise ($2,500+/mo)</option>
              </select>
            </div>
            <div class="calc-input-group">
              <label for="resellPrice">Average job value</label>
              <input type="range" id="resellPrice" min="500" max="10000" value="3000" step="100">
              <div class="calc-value" id="resellPriceValue">$3,000</div>
            </div>
          </div>
        <!-- FIX #11: aria-live for screen readers on dynamic updates -->
        <div class="calculator-results" aria-live="polite" aria-atomic="true">
          <div class="calc-result">
            <div class="calc-result-label">Monthly plan cost</div>
            <div class="calc-result-value" id="totalCost">$700/mo</div>
          </div>
          <div class="calc-result">
            <div class="calc-result-label">Recovered monthly revenue</div>
            <div class="calc-result-value" id="totalRevenue">$15,000/mo</div>
          </div>
          <div class="calc-result calc-result-highlight">
            <div class="calc-result-label">Estimated monthly net gain</div>
            <div class="calc-result-value" id="totalProfit">$14,300/mo</div>
          </div>
          <div class="calc-result">
            <div class="calc-result-label">Estimated annual net gain</div>
            <div class="calc-result-value" id="annualProfit">$171,600/yr</div>
          </div>
          <!-- FIX #27: Warning for zero/low profit -->
          <div class="calc-warning" id="calcWarning">If this estimate is low, focus first on speed-to-lead and missed-call recovery workflows.</div>
        </div>
      </div>
    </section>

    <section id="video-proof">
      <div class="section-title">See It In Action</div>
      <h2>Watch how contractor workflows run</h2>
      <p class="section-sub">A 2-minute walkthrough shows more than any sales page.</p>

      <div class="video-container">
        <div class="video-embed" id="videoEmbed">
          <!-- FIX #15/#28: Replaced inline onclick with button, improved messaging -->
          <div class="video-placeholder">
            <button class="video-play-btn" type="button" id="videoPlayBtn" aria-label="Play demo video">
              <svg width="68" height="68" viewBox="0 0 68 68" fill="none"><circle cx="34" cy="34" r="34" fill="white" fill-opacity="0.9"/><path d="M28 22L48 34L28 46V22Z" fill="#ff6a3d"/></svg>
            </button>
            <div class="video-placeholder-text">
              <div class="video-placeholder-title">Watch 2-min Demo</div>
              <div class="video-placeholder-subtitle">See the full delivery workflow</div>
              <div class="video-placeholder-notice">Video demo coming soon â€” contact us for a live walkthrough</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="snapshot">
      <div class="section-title">Case Snapshot</div>
      <h2>What a typical win looks like</h2>
      <p class="section-sub">A simple before-and-after view of how contractor operations improve once automation is deployed.</p>

      <div class="grid-3">
        <div class="card">
          <h4>Before</h4>
          <p>Missed calls, delayed responses, manual follow-up, and inconsistent scheduling.</p>
        </div>
        <div class="card">
          <h4>After</h4>
          <p>Automated lead response, call recovery, qualification, and booking across all channels.</p>
        </div>
        <div class="card">
          <h4>Impact</h4>
          <p>More qualified leads, faster booking cycles, and clear monthly ROI visibility.</p>
        </div>
      </div>
    </section>

    <section id="guarantee">
      <div class="section-title">Risk Reversal</div>
      <h2>You are protected with a 90-day guarantee</h2>
      <p class="section-sub">More leads, more bookings, or you do not pay until agreed targets are achieved.</p>

      <div class="offer">
        <div class="offer-grid">
          <div>
            <h3>Nebrex guarantee</h3>
            <ul>
              <li>Lead and booking targets defined before launch</li>
              <li>90-day performance window with KPI tracking</li>
              <li>If targets are missed, we keep working at no charge</li>
              <li>Execution remains focused on measurable outcomes</li>
            </ul>
          </div>
          <div>
            <h3>What we need from you</h3>
            <ul>
              <li>Current lead sources and call flow access</li>
              <li>CRM, calendar, and communication tool access</li>
              <li>Approval on messaging and qualification criteria</li>
              <li>One point of contact for rapid implementation</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <section id="contact">
      <div class="section-title">Contact</div>
      <h2>Request a demo and we respond within 24 hours</h2>
      <p class="section-sub">No Calendly needed. Send details and we schedule manually.</p>

      <div class="contact">
        <div class="contact-grid">
          <div>
            <h3>Direct contact</h3>
            <!-- FIX #12: Contact info wrapped in <address> -->
            <address>
              <p>Call or text for fastest response:</p>
              <p class="phone-number"><a href="tel:+18257339236">(825) 733-9236</a></p>
              <p>Email: <a href="mailto:contact@nebrex.ca">contact@nebrex.ca</a></p>
            </address>
            <p class="contact-note"><small>Include: business name, service type, and expected monthly lead volume.</small></p>
          </div>
          <div>
            <h3>Quick request form</h3>
            <form id="demoForm" novalidate>
              <label for="name" class="visually-hidden">Your name</label>
              <input type="text" id="name" name="name" placeholder="Your name" required autocomplete="name">

              <label for="business" class="visually-hidden">Business name</label>
              <input type="text" id="business" name="business" placeholder="Business name" required autocomplete="organization">

              <label for="email" class="visually-hidden">Best email</label>
              <input type="email" id="email" name="email" placeholder="Best email" required autocomplete="email">

              <label for="clients" class="visually-hidden">Estimated monthly lead volume</label>
              <input type="text" id="clients" name="clients" placeholder="Estimated monthly lead volume" required>

              <label for="notes" class="visually-hidden">What part of your operations needs automation first?</label>
              <textarea id="notes" name="notes" rows="4" placeholder="What part of your operations needs automation first?"></textarea>

              <button class="btn btn-primary" type="submit">Send Request</button>
              <!-- FIX #26: Form feedback message -->
              <div class="form-status" id="formStatus" role="alert"></div>
              <small>Submitting opens your email app. You can also email <a href="mailto:contact@nebrex.ca">contact@nebrex.ca</a> directly.</small>
            </form>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="wrap">
      <p>&copy; 2026 Nebrex Automations. All rights reserved.</p>
      <nav class="footer-nav" aria-label="Footer navigation">
        <a href="#contact">Contact</a>
        <span aria-hidden="true">|</span>
        <a href="privacy.html">Privacy Policy</a>
        <span aria-hidden="true">|</span>
        <a href="terms.html">Terms of Service</a>
      </nav>
    </div>
  </footer>

  <!-- Chat Widget -->
  <div class="chat-widget" id="chatWidget">
    <button class="chat-toggle" type="button" id="chatToggle" aria-label="Open chat">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
      </svg>
      <span class="chat-badge">1</span>
    </button>
    <div class="chat-box" id="chatBox" role="dialog" aria-label="Chat with Nebrex Automations">
      <div class="chat-header">
        <div class="chat-header-info">
          <div class="chat-avatar" aria-hidden="true"></div>
          <div>
            <div class="chat-header-title">Nebrex Automations</div>
            <div class="chat-header-status">Automated assistant</div>
          </div>
        </div>
        <button class="chat-close" type="button" id="chatClose" aria-label="Close chat">&times;</button>
      </div>
      <div class="chat-messages" id="chatMessages">
        <div class="chat-message bot">
          <p>Hi! I am an automated assistant here to help you learn about Nebrex systems for Calgary contractors.</p>
        </div>
        <div class="chat-message bot">
          <p>Quick question: Are you currently running automation in your operations, or starting fresh?</p>
        </div>
        <div class="chat-quick-replies">
          <button class="chat-quick-btn" type="button" data-reply="already">Already using automation</button>
          <button class="chat-quick-btn" type="button" data-reply="starting">Starting now</button>
          <button class="chat-quick-btn" type="button" data-reply="pricing">Show me pricing</button>
        </div>
      </div>
      <div class="chat-input-area">
        <label for="chatInput" class="visually-hidden">Type a message</label>
        <input type="text" class="chat-input" id="chatInput" placeholder="Type a message...">
        <button class="chat-send" type="button" id="chatSend" aria-label="Send message">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
        </button>
      </div>
    </div>
  </div>

  <script>
    // FIX #21: Double-rAF for reliable preload animation
    document.body.classList.add('preload');
    requestAnimationFrame(function() {
      requestAnimationFrame(function() {
        document.body.classList.add('is-ready');
        document.body.classList.remove('preload');
      });
    });

    // Reveal on scroll (FIX #20: removed will-change)
    var revealTargets = document.querySelectorAll('section, .card, .step, .proof-box, .offer, .contact-grid > div');
    revealTargets.forEach(function(el, index) {
      el.classList.add('reveal');
      el.style.transitionDelay = Math.min((index % 5) * 45, 180) + 'ms';
    });

    var revealObserver = new IntersectionObserver(function(entries) {
      entries.forEach(function(entry) {
        if (entry.isIntersecting) {
          entry.target.classList.add('in');
          revealObserver.unobserve(entry.target);
        }
      });
    }, { threshold: 0.14, rootMargin: '0px 0px -7% 0px' });

    revealTargets.forEach(function(el) { revealObserver.observe(el); });

    // Mobile navigation
    var mobileMenuBtn = document.querySelector('.mobile-menu-btn');
    var navLinks = document.querySelector('.nav-links');

    mobileMenuBtn.addEventListener('click', function() {
      var isExpanded = this.getAttribute('aria-expanded') === 'true';
      this.setAttribute('aria-expanded', String(!isExpanded));
      navLinks.classList.toggle('nav-open');
    });

    navLinks.querySelectorAll('a').forEach(function(link) {
      link.addEventListener('click', function() {
        mobileMenuBtn.setAttribute('aria-expanded', 'false');
        navLinks.classList.remove('nav-open');
      });
    });

    // FIX #26: Form submission with feedback
    var form = document.getElementById('demoForm');
    var formStatus = document.getElementById('formStatus');

    form.addEventListener('submit', function(e) {
      e.preventDefault();

      // Basic validation
      var requiredFields = form.querySelectorAll('[required]');
      var allValid = true;
      requiredFields.forEach(function(field) {
        if (!field.value.trim()) {
          allValid = false;
          field.style.borderColor = '#ff6b6b';
        } else {
          field.style.borderColor = '';
        }
      });

      var emailField = form.querySelector('[type="email"]');
      if (emailField.value && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailField.value)) {
        allValid = false;
        emailField.style.borderColor = '#ff6b6b';
      }

      if (!allValid) {
        formStatus.textContent = 'Please fill in all required fields with valid information.';
        formStatus.className = 'form-status visible error';
        return;
      }

      var data = new FormData(form);
      var name = data.get('name');
      var business = data.get('business');
      var email = data.get('email');
      var clients = data.get('clients');
      var notes = data.get('notes');

      var subject = encodeURIComponent('Demo Request - Nebrex Automations');
      var body = encodeURIComponent(
        'Name: ' + name + '\n' +
        'Business: ' + business + '\n' +
        'Email: ' + email + '\n' +
        'Monthly lead volume: ' + clients + '\n' +
        'Notes: ' + notes
      );

      formStatus.textContent = 'Opening your email client... If nothing happens, email contact@nebrex.ca directly with the details above.';
      formStatus.className = 'form-status visible success';

      window.location.href = 'mailto:contact@nebrex.ca?subject=' + subject + '&body=' + body;
    });

    // ROI Calculator (FIX #27: zero-profit warning)
    var numClients = document.getElementById('numClients');
    var packageTier = document.getElementById('packageTier');
    var resellPrice = document.getElementById('resellPrice');
    var calcWarning = document.getElementById('calcWarning');

    function updateCalculator() {
      var clients = parseInt(numClients.value);
      var cost = parseInt(packageTier.value);
      var price = parseInt(resellPrice.value);

      var totalCostVal = cost;
      var totalRevenueVal = clients * price;
      var profit = totalRevenueVal - totalCostVal;
      var annual = profit * 12;

      document.getElementById('numClientsValue').textContent = clients + ' job' + (clients > 1 ? 's' : '');
      document.getElementById('resellPriceValue').textContent = '$' + price.toLocaleString();
      document.getElementById('totalCost').textContent = '$' + totalCostVal.toLocaleString() + '/mo';
      document.getElementById('totalRevenue').textContent = '$' + totalRevenueVal.toLocaleString() + '/mo';
      document.getElementById('totalProfit').textContent = '$' + profit.toLocaleString() + '/mo';
      document.getElementById('annualProfit').textContent = '$' + annual.toLocaleString() + '/yr';

      // Show warning if profit margin is too low
      if (profit <= 0) {
        calcWarning.className = 'calc-warning visible';
        calcWarning.textContent = 'Your recovered revenue estimate is below plan cost. Tighten speed-to-lead first.';
      } else if (profit / totalRevenueVal < 0.35) {
        calcWarning.className = 'calc-warning visible';
        calcWarning.textContent = 'Your estimated net gain is modest. Improve follow-up and call recovery for better results.';
      } else {
        calcWarning.className = 'calc-warning';
      }
    }

    numClients.addEventListener('input', updateCalculator);
    packageTier.addEventListener('change', updateCalculator);
    resellPrice.addEventListener('input', updateCalculator);
    updateCalculator();

    // FIX #15/#28: Video - addEventListener instead of inline onclick
    var videoPlayBtn = document.getElementById('videoPlayBtn');
    if (videoPlayBtn) {
      videoPlayBtn.addEventListener('click', function() {
        var container = document.getElementById('videoEmbed');
        var placeholder = document.createElement('div');
        placeholder.className = 'video-placeholder';
        placeholder.style.cursor = 'default';

        var text = document.createElement('div');
        text.className = 'video-placeholder-text';
        text.innerHTML = '<div class="video-placeholder-title">Video coming soon</div>' +
          '<div class="video-placeholder-subtitle">Contact us for a live demo walkthrough</div>' +
          '<div class="video-placeholder-notice"><a href="#contact" style="color:var(--ink);text-decoration:underline;">Book a demo call</a> to see it in action</div>';

        placeholder.appendChild(text);
        container.innerHTML = '';
        container.appendChild(placeholder);
      });
    }

    // Chat Widget
    var chatToggle = document.getElementById('chatToggle');
    var chatBox = document.getElementById('chatBox');
    var chatClose = document.getElementById('chatClose');
    var chatInput = document.getElementById('chatInput');
    var chatSend = document.getElementById('chatSend');
    var chatMessages = document.getElementById('chatMessages');

    chatToggle.addEventListener('click', function() {
      chatBox.classList.toggle('open');
      chatToggle.querySelector('.chat-badge').style.display = 'none';
      if (chatBox.classList.contains('open')) {
        chatInput.focus();
      }
    });

    chatClose.addEventListener('click', function() {
      chatBox.classList.remove('open');
    });

    // Close chat on Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && chatBox.classList.contains('open')) {
        chatBox.classList.remove('open');
        chatToggle.focus();
      }
    });

    // Quick reply buttons
    document.querySelectorAll('.chat-quick-btn').forEach(function(btn) {
      btn.addEventListener('click', function() {
        var reply = this.dataset.reply;
        var userMsg = this.textContent;

        addMessage(userMsg, 'user');

        var quickReplies = document.querySelector('.chat-quick-replies');
        if (quickReplies) quickReplies.remove();

        setTimeout(function() {
          if (reply === 'already') {
            addMessage("Great. Then we can optimize what you already have and remove workflow bottlenecks.", 'bot');
            setTimeout(function() { addMessage("Want to see our pricing tiers or book a quick operations review call?", 'bot'); }, 800);
          } else if (reply === 'starting') {
            addMessage("Perfect timing. We can launch foundational automation quickly and improve from there.", 'bot');
            setTimeout(function() { addMessage("We deploy practical systems for lead response, booking, and follow-up. Want to see how it works?", 'bot'); }, 800);
          } else if (reply === 'pricing') {
            addMessage("Sure. Starter is $300/mo, Growth is $700/mo, Full Suite is $1,100/mo, and Enterprise starts at $2,500/mo.", 'bot');
            setTimeout(function() { addMessage("Want to book a demo and map the right tier to your current lead volume?", 'bot'); }, 800);
          }
          setTimeout(addCTA, 1600);
        }, 500);
      });
    });

    // FIX #2: XSS fix - use textContent instead of innerHTML
    function addMessage(text, type) {
      var msg = document.createElement('div');
      msg.className = 'chat-message ' + type;
      var p = document.createElement('p');
      p.textContent = text;
      msg.appendChild(p);
      chatMessages.appendChild(msg);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    // FIX #16: No inline onclick - use addEventListener
    function addCTA() {
      var cta = document.createElement('div');
      cta.className = 'chat-cta';
      var link = document.createElement('a');
      link.href = '#contact';
      link.className = 'btn btn-primary';
      link.textContent = 'Book a Demo Call';
      link.addEventListener('click', function() {
        chatBox.classList.remove('open');
      });
      cta.appendChild(link);
      chatMessages.appendChild(cta);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    // Handle typed messages
    function handleSend() {
      var text = chatInput.value.trim();
      if (!text) return;

      addMessage(text, 'user');
      chatInput.value = '';

      setTimeout(function() {
        addMessage("Thanks for your message! For the fastest response, book a demo call or text us at (825) 733-9236. We typically reply within a few hours.", 'bot');
        setTimeout(addCTA, 800);
      }, 500);
    }

    chatSend.addEventListener('click', handleSend);
    chatInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') handleSend();
    });
  </script>
</body>
</html>







